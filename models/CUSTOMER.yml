version: 2

models:
    - name: CUSTOMER
      description: "Cust dbt Model"
      columns:
          - name: CUSTKEY
            description: "cust key"
            tests:
                - unique
                - not_null
          - name: CUSTNAME
            description: "Cust name"
          - name: NATIONKEY
            description: "Cust name"
            tests:
              - not_null
              - relationships:
                to: ref('NATION')
                field: NATIONKEY
                meta:
                  ts_join_cardinality: many_to_one
                  ts_join_type: inner
                  ts_join_name: cust_nationkey

